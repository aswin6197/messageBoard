extends messageLayout

block library
  script(src="https://code.jquery.com/jquery-3.5.1.min.js")
  script(src="/javascripts/ajaxRequest.js")
  link(rel="stylesheet",href="/stylesheets/main.css")
block variables
    - var messages = messages
    - var page = page
    - var max = max
    - var url = url
    - var topics = []
block header
    header 
        a(href='/topics') Topics
        h1 Message Board
        a(href="/logout") Log out 
    div(id="top")
        h2(id="topic") #{topic}

block extra          
    //- if page == 1
    //-     textarea(name="message",id="message" rows="2",placeholder="enter message here")
    //-     | 
    //-     button(id="sends",onclick=`sendMessage("${username}","/topic/${topic}","${limit}")`) Send
    if page == 1
        form(action=url,method="POST",enctype="multipart/form-data")
            textarea(name="message",id="message" rows="2",placeholder="enter message here")
            |
            label(id="uploadDiv") Upload 
                input(type="file",name="avatar",id="upload")
            |
            input(type="submit",id="send")        